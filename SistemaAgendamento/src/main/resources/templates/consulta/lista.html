<!DOCTYPE html>
<html layout:decorate="~{layout}">
<head>
<meta charset="UTF-8" />
</head>
<body>
	<section class="layout-content" layout:fragment="corpo">

		<nav class="navbar navbar-expand-md bg-light">
			<div class="collapse navbar-collapse" id="navbarsExampleDefault">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active"><i class="oi oi-caret-right"></i>
						<span th:text="#{consulta.listar.label}"></span></li>
				</ul>
				
				<div sec:authorize="hasRole('ROLE_CLIENTE')">
					<a class="btn btn-primary btn-md" th:href="@{/consultas/cadastrar}"
						role="button"> <span class="oi oi-plus" title="Cadastro"
						aria-hidden="true"></span> <span th:text="#{consulta.cadastrar.label}"></span>
					</a>
				</div>
			</div>
		</nav>

		<div class="container" id="listagem">

			<div th:replace="fragments/alert"></div>

			<div class="table-responsive">
				<table class="table table-striped table-hover table-sm">
					<thead>
						<tr>
							<th>#</th>
							<th th:text="#{consulta.cliente.label}"></th>
							<div sec:authorize="hasRole('ROLE_PROFISSIONAL')">
								<th th:text="#{cliente.telefone.label}"></th>
								<th th:text="#{cliente.sexo.label}"></th>
								<th th:text="#{cliente.nascimento.label}"></th>
							</div>
							<th th:text="#{consulta.profissional.label}"></th>
							<div sec:authorize="hasRole('ROLE_CLIENTE')">
								<th th:text="#{profissional.area.label}"></th>
								<th th:text="#{profissional.especialidade.label}"></th>
							</div>
							<th th:text="#{consulta.dataehora.label}"></th>
							
						</tr>
					</thead>
					<tbody>
						<tr th:each="consulta : ${consultas}">
							<td th:text="${consulta.id}"></td>
							<td th:text="${consulta.cliente.nome}"></td>
							<div sec:authorize="hasRole('ROLE_PROFISSIONAL')">
								<td th:text="${consulta.cliente.telefone}"></td>
								<td th:text="${consulta.cliente.sexo}"></td>
								<td th:datetime-local="${consulta.cliente.nascimento}"></td>
							</div>
							<td th:text="${consulta.profissional.nome}"></td>
							<div sec:authorize="hasRole('ROLE_CLIENTE')">
								<th th:text="${consulta.profissional.area}"></th>
								<th th:text="${consulta.profissional.especialidade}"></th>
							</div>
							<td th:datetime-local="${consulta.dataHora}"></td>
							
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<div th:replace="fragments/modal :: modal"></div>
	</section>
</body>
</html>
